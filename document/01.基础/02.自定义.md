## 02.自定义
默认配置可能不满足实际场景需求，这里介绍了final-security的自定义功能。

### 自定义token生成
默认为UUID的生成方式
```java
    @Bean
    public FinalTokenGenerate tokenGenerate(){
        return new customTokenGenerate();
    }
    
    class customTokenGenerate implements FinalTokenGenerate{
        @Override
        public String generateToken() {
            return UUID.randomUUID().toString();
        }
    }
```
> 通过实现 `FinalTokenGenerate` 接口的Bean注入。

### 自定义异常处理
final-security的所有异常处理均在接口 `FinalExceptionHandler` 实现它进行bean注入即可
```java
    @Bean
    public FinalExceptionHandler exceptionHandler() {
        // 实现FinalExceptionHandler接口进行定制处理，，可参照 DefaultFinalExceptionHandler
        return new customExceptionHandler();
        }

    class customExceptionHandler implements FinalExceptionHandler {
    @Override
    public void tokenException(Exception e, HttpServletRequest request, HttpServletResponse response) {
        // 做些什么？
    }

    @Override
    public void permissionException(Exception e, HttpServletRequest request, HttpServletResponse response) {
        // 做些什么？
    }

    @Override
    public void exception(Exception e, HttpServletRequest request, HttpServletResponse response) {
        // 做些什么？
    }
}
```

### 会话生成监听
需要监听会话的生成可以实现 `FinalSessionListener` 接口进行bean注入，方式与上面一致
```java
    @Bean
    public FinalSessionListener finalSessionListener(){
        return new FinalSessionListener() {
            @Override
            public void create(FinalSession session, HttpServletRequest request, HttpServletResponse response) {
                // 创建时做些什么？
            }

            @Override
            public void delete(FinalSession session, HttpServletRequest request, HttpServletResponse response) {
                // 移除时做些什么？
            }
        };
    }
```

### 记住我remember

可以通过自定义异常处理来达到记住我remember。
<br/>例如登录时先将rememberToken存储到map中，记录时间，自定义无token异常时判断map中是否存在remember，然后重新登录并再次转发当前请求即可。

<br/><br/><br/>
> final-security 一如既往简洁、简单、专一。